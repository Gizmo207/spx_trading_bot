Database Schema Design

Entities and Relationships

1. User

Description:

A user is the primary entity and can have multiple associated trading signals, preferences, and historical trades.

Fields:

Field Name

Type

Description

Indexed?

user_id

String

Unique identifier for each user

Yes

name

String

User's full name

No

email

String

User's email address

Yes

preferences

Map

Key-value pairs for user preferences

No

last_login

Timestamp

Last time the user logged in

Yes

trading_history_ids

Array

Array of trade history document IDs

No

2. Trading Signal

Description:

A trading signal represents recommendations generated by the app's algorithms for specific trades.

Fields:

Field Name

Type

Description

Indexed?

signal_id

String

Unique identifier for each signal

Yes

user_id

String

The user this signal belongs to

Yes

timestamp

Timestamp

Time the signal was generated

Yes

confidence_score

Number

Confidence level (0-100) of the signal

Yes

trade_parameters

Map

Parameters like strike price, expiry

No

status

String

Status (e.g., pending, executed)

Yes

3. Trading History

Description:

This stores completed or attempted trades for tracking user performance and metrics.

Fields:

Field Name

Type

Description

Indexed?

trade_id

String

Unique identifier for the trade

Yes

user_id

String

The user who executed the trade

Yes

signal_id

String

Reference to the associated signal

No

timestamp

Timestamp

Time the trade was executed

Yes

trade_result

String

Result (win, loss, breakeven)

Yes

profit_loss

Number

Dollar value of profit or loss

Yes

4. App Settings (Optional)

Description:

This entity can store global settings like active strategies, notifications, or versioning.

Fields:

Field Name

Type

Description

Indexed?

setting_id

String

Unique ID for the setting

Yes

strategy_settings

Map

Active strategy configuration

No

notifications

Boolean

Enable or disable notifications

No

last_update

Timestamp

Last updated timestamp

Yes

Relationships

User ↔ Trading Signal

Relationship: A user_id in the Trading Signal references the user that owns the signal.

User ↔ Trading History

Relationship: A user_id in the Trading History references the user that executed the trade.

Trading Signal ↔ Trading History

Relationship: A signal_id in the Trading History references the associated trading signal.

Indexing

Indexed Fields:

timestamp for time-based queries.

user_id for user-specific data retrieval.

confidence_score for sorting/filtering high-confidence signals.

trade_result for performance analysis.

Backups

Firebase Backup Options:

Daily Export:

Schedule daily backups via Firebase CLI or third-party tools.

Firestore Snapshots:

Enable Firestore's managed export and import service for periodic snapshots.

